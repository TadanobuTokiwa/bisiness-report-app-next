(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[526],{8092:function(e,t,r){Promise.resolve().then(r.bind(r,472))},472:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return M}});var a=r(7437),s=r(2265),n=r(9820),l=r(4291),i=r(9920),d=r(8965),o=r(2381),c=r(3804),u=e=>{let{tasks:t,setEditingTask:r,setIsEditDialogOpen:s,loading:n}=e,l=e=>{r(e),s(!0)};return(0,a.jsxs)("div",{className:"rounded-md border",children:[(0,a.jsxs)(c.iA,{children:[(0,a.jsx)(c.xD,{className:"bg-red-50",children:(0,a.jsxs)(c.SC,{children:[(0,a.jsx)(c.ss,{children:"ID"}),(0,a.jsx)(c.ss,{className:"text-center",children:"並び順"}),(0,a.jsx)(c.ss,{children:"作業項目名 (最大12文字)"}),(0,a.jsx)(c.ss,{children:"背景色"}),(0,a.jsx)(c.ss,{className:"text-center",children:"表示"}),(0,a.jsx)(c.ss,{})]})}),(0,a.jsx)(c.RM,{className:"bg-white",children:t.map(e=>(0,a.jsxs)(c.SC,{className:"hover:bg-slate-50",children:[(0,a.jsx)(c.pj,{className:"w-[80px]",children:e.id}),(0,a.jsx)(c.pj,{className:"w-[80px] text-center",children:e.orderNum}),(0,a.jsx)(c.pj,{children:e.taskName}),(0,a.jsx)(c.pj,{className:"w-[100px]",children:(0,a.jsx)("div",{className:"h-6 w-full rounded",style:{backgroundColor:e.color}})}),(0,a.jsx)(c.pj,{className:"w-[80px] text-center ".concat(e.chk?"":"text-red-500 font-bold"),children:e.chk?"表示":"非表示"}),(0,a.jsx)(c.pj,{className:"w-[100px]",children:(0,a.jsx)(o.z,{className:"hover:bg-slate-100",variant:"outline",size:"sm",onClick:()=>l(e),children:"編集"})})]},e.id))})]}),n?(0,a.jsx)("strong",{className:"w-full",children:"Loading..."}):(0,a.jsx)(a.Fragment,{})]})},m=r(9376),f=e=>{let{tasks:t,changedItems:r,addedItems:s,setIsAddDialogOpen:n,setNewTask:l,setAddedItems:i,setChangedItems:c}=e,u=(0,m.useRouter)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.z,{className:"border border-black hover:bg-slate-100",onClick:()=>{n(!0),l({id:Math.max(...t.map(e=>e.id))+1,orderNum:Math.max(...t.map(e=>e.orderNum))+1,taskName:"",color:"#bbdefb",chk:!0,docID:""})},children:"追加"}),(0,a.jsxs)("div",{className:"space-x-2",children:[(0,a.jsx)(o.z,{className:"border border-black mr-3 hover:bg-slate-100",variant:"default",onClick:()=>{s.forEach(e=>{(0,d.fA)(e)}),i([]),r.forEach(e=>{(0,d._d)(e)}),c([])},disabled:0===r.length&&0===s.length,children:"保存"}),(0,a.jsx)(o.z,{className:"hover:bg-slate-100",variant:"outline",onClick:()=>{r.length||s.length?window.confirm("変更が保存されていません。保存せずに戻りますか？")&&(c([]),i([]),u.back()):u.back()},children:"戻る"})]})]})},p=r(279),x=r(5060),h=r(8575),g=r(3966),N=r(6741),b=r(886),k=r(6718),j=r(420),v=r(1599),w=r(6840),y="Checkbox",[T,C]=(0,g.b)(y),[I,D]=T(y),R=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,name:n,checked:l,defaultChecked:i,required:d,disabled:o,value:c="on",onCheckedChange:u,form:m,...f}=e,[p,x]=s.useState(null),g=(0,h.e)(t,e=>x(e)),k=s.useRef(!1),j=!p||m||!!p.closest("form"),[v=!1,y]=(0,b.T)({prop:l,defaultProp:i,onChange:u}),T=s.useRef(v);return s.useEffect(()=>{let e=null==p?void 0:p.form;if(e){let t=()=>y(T.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[p,y]),(0,a.jsxs)(I,{scope:r,state:v,disabled:o,children:[(0,a.jsx)(w.WV.button,{type:"button",role:"checkbox","aria-checked":H(v)?"mixed":v,"aria-required":d,"data-state":S(v),"data-disabled":o?"":void 0,disabled:o,value:c,...f,ref:g,onKeyDown:(0,N.M)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,N.M)(e.onClick,e=>{y(e=>!!H(e)||!e),j&&(k.current=e.isPropagationStopped(),k.current||e.stopPropagation())})}),j&&(0,a.jsx)(E,{control:p,bubbles:!k.current,name:n,value:c,checked:v,required:d,disabled:o,form:m,style:{transform:"translateX(-100%)"},defaultChecked:!H(i)&&i})]})});R.displayName=y;var _="CheckboxIndicator",A=s.forwardRef((e,t)=>{let{__scopeCheckbox:r,forceMount:s,...n}=e,l=D(_,r);return(0,a.jsx)(v.z,{present:s||H(l.state)||!0===l.state,children:(0,a.jsx)(w.WV.span,{"data-state":S(l.state),"data-disabled":l.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});A.displayName=_;var E=e=>{let{control:t,checked:r,bubbles:n=!0,defaultChecked:l,...i}=e,d=s.useRef(null),o=(0,k.D)(r),c=(0,j.t)(t);s.useEffect(()=>{let e=d.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==r&&t){let a=new Event("click",{bubbles:n});e.indeterminate=H(r),t.call(e,!H(r)&&r),e.dispatchEvent(a)}},[o,r,n]);let u=s.useRef(!H(r)&&r);return(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:null!=l?l:u.current,...i,tabIndex:-1,ref:d,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function H(e){return"indeterminate"===e}function S(e){return H(e)?"indeterminate":e?"checked":"unchecked"}var z=r(401),F=r(3448);let O=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(R,{ref:t,className:(0,F.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...s,children:(0,a.jsx)(A,{className:(0,F.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(z.Z,{className:"h-4 w-4"})})})});O.displayName=R.displayName;var P=e=>{let{editingTask:t,setTasks:r,setIsEditDialogOpen:s,setEditingTask:n,setAddedItems:i,setChangedItems:d,changedItems:c}=e,u=()=>{if(!t||!t.id||!t.orderNum||!t.taskName){window.alert("入力内容を確認してください");return}r(e=>e.map(e=>e.id===t.id?t:e).sort((e,t)=>e.orderNum>t.orderNum?1:e.orderNum<t.orderNum?-1:0)),s(!1),n(null),""===t.docID?i(e=>e.map(e=>e.id===t.id?t:e)):c.filter(e=>(null==e?void 0:e.id)===t.id).length?d(e=>e.map(e=>e.id===t.id?t:e)):d(e=>[...e,t])};return(0,a.jsxs)(l.cZ,{className:"bg-slate-50",children:[(0,a.jsx)(l.fK,{children:(0,a.jsx)(l.$N,{children:"業務項目の編集"})}),t&&(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(x._,{htmlFor:"task-id",className:"text-right",children:"ID"}),(0,a.jsx)(p.I,{id:"task-id",value:t.id,className:"col-span-3",disabled:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(x._,{htmlFor:"task-order",className:"text-right",children:"並び順"}),(0,a.jsx)(p.I,{id:"task-order",type:"number",value:t.orderNum,onChange:e=>n({...t,orderNum:parseInt(e.target.value,10)}),className:"col-span-3"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(x._,{htmlFor:"task-name",className:"text-right",children:"作業項目名"}),(0,a.jsx)(p.I,{id:"task-name",value:t.taskName,onChange:e=>n({...t,taskName:e.target.value}),maxLength:12,className:"col-span-3"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(x._,{htmlFor:"task-color",className:"text-right",children:"背景色"}),(0,a.jsxs)("div",{className:"col-span-3 flex gap-2",children:[(0,a.jsx)(p.I,{id:"task-color",type:"color",value:t.color,onChange:e=>n({...t,color:e.target.value}),className:"w-20 p-1 h-10"}),(0,a.jsx)(p.I,{type:"text",value:t.color,onChange:e=>n({...t,color:e.target.value}),className:"flex-1",placeholder:"#000000"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(x._,{htmlFor:"task-visible",className:"text-right",children:"表示設定"}),(0,a.jsxs)("div",{className:"col-span-3 flex items-center space-x-2",children:[(0,a.jsx)(O,{id:"task-visible",checked:t.chk,onCheckedChange:e=>n({...t,chk:e})}),(0,a.jsx)("label",{htmlFor:"task-visible",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"表示する"})]})]})]}),(0,a.jsx)(l.cN,{children:(0,a.jsx)("div",{className:"w-full border border-black text-center bg-gray-100 hover:bg-gray-200",children:(0,a.jsx)(o.z,{onClick:()=>u(),children:"保存"})})})]})},L=e=>{let{newTask:t,setTasks:r,setIsAddDialogOpen:s,setNewTask:n,setAddedItems:i,tasks:d,addedItems:c}=e,u=()=>{if(!t||!t.id||!t.orderNum||!t.taskName){window.alert("入力内容を確認してください");return}t&&t.taskName&&(r([...d,t].sort((e,t)=>e.orderNum>t.orderNum?1:e.orderNum<t.orderNum?-1:0)),s(!1),n(null),i([...c,t]))};return(0,a.jsxs)(l.cZ,{className:"bg-slate-50",children:[(0,a.jsx)(l.fK,{children:(0,a.jsx)(l.$N,{children:"新規業務項目の追加"})}),t&&(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(x._,{htmlFor:"new-task-id",className:"text-right",children:"ID"}),(0,a.jsx)(p.I,{id:"new-task-id",value:t.id,className:"col-span-3",disabled:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(x._,{htmlFor:"new-task-order",className:"text-right",children:"並び順"}),(0,a.jsx)(p.I,{id:"new-task-order",type:"number",value:t.orderNum,onChange:e=>n({...t,orderNum:parseInt(e.target.value,10)}),className:"col-span-3"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(x._,{htmlFor:"new-task-name",className:"text-right",children:"作業項目名"}),(0,a.jsx)(p.I,{id:"new-task-name",value:t.taskName,onChange:e=>n({...t,taskName:e.target.value}),maxLength:12,className:"col-span-3"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(x._,{htmlFor:"new-task-color",className:"text-right",children:"背景色"}),(0,a.jsxs)("div",{className:"col-span-3 flex gap-2",children:[(0,a.jsx)(p.I,{id:"new-task-color",type:"color",value:t.color,onChange:e=>n({...t,color:e.target.value}),className:"w-20 p-1 h-10"}),(0,a.jsx)(p.I,{type:"text",value:t.color,onChange:e=>n({...t,color:e.target.value}),className:"flex-1",placeholder:"#000000"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(x._,{htmlFor:"new-task-visible",className:"text-right",children:"表示設定"}),(0,a.jsxs)("div",{className:"col-span-3 flex items-center space-x-2",children:[(0,a.jsx)(O,{id:"new-task-visible",checked:t.chk,onCheckedChange:e=>n({...t,chk:e})}),(0,a.jsx)("label",{htmlFor:"new-task-visible",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"表示する"})]})]})]}),(0,a.jsx)(l.cN,{children:(0,a.jsx)("div",{className:"w-full border border-black text-center bg-red-100 hover:bg-red-200",children:(0,a.jsx)(o.z,{onClick:()=>u(),children:"追加"})})})]})},M=()=>{let[e,t]=(0,s.useState)([]),[r,o]=(0,s.useState)(null),[c,m]=(0,s.useState)(!1),[p,x]=(0,s.useState)(!1),[h,g]=(0,s.useState)([]),[N,b]=(0,s.useState)([]),[k,j]=(0,s.useState)(null),[v,w]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{(async()=>{t(await (0,d.wZ)())})().then(()=>w(!1))},[]),(0,a.jsx)(i.Z,{children:(0,a.jsxs)(n.Zb,{className:"w-full max-w-4xl mx-auto my-5 bg-slate-50",children:[(0,a.jsx)(n.Ol,{children:(0,a.jsx)(n.ll,{children:"業務項目管理画面"})}),(0,a.jsx)(n.aY,{children:(0,a.jsx)(u,{tasks:e,setEditingTask:o,setIsEditDialogOpen:m,loading:v})}),(0,a.jsx)(n.eW,{className:"flex justify-between",children:(0,a.jsx)(f,{tasks:e,changedItems:h,addedItems:N,setIsAddDialogOpen:x,setNewTask:j,setAddedItems:b,setChangedItems:g})}),(0,a.jsx)(l.Vq,{open:c,onOpenChange:m,children:(0,a.jsx)(P,{editingTask:r,setTasks:t,setIsEditDialogOpen:m,setEditingTask:o,setAddedItems:b,setChangedItems:g,changedItems:h})}),(0,a.jsx)(l.Vq,{open:p,onOpenChange:x,children:(0,a.jsx)(L,{newTask:k,setTasks:t,setIsAddDialogOpen:x,setNewTask:j,setAddedItems:b,tasks:e,addedItems:N})})]})})}},9920:function(e,t,r){"use strict";var a=r(7437),s=r(2265),n=r(1245),l=r(9376),i=r(4131);t.Z=e=>{let{children:t}=e,{user:r,loading:d}=(0,n.a)(),o=(0,l.useRouter)(),c=i.Z.get("__session");return((0,s.useEffect)(()=>{d||r&&c||o.push("/login")},[r,d,c,o]),d)?(0,a.jsx)("p",{children:"Loading..."}):(0,a.jsx)(a.Fragment,{children:t})}},2381:function(e,t,r){"use strict";r.d(t,{z:function(){return o}});var a=r(7437),s=r(2265),n=r(7053),l=r(7712),i=r(3448);let d=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,size:l,asChild:o=!1,...c}=e,u=o?n.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(d({variant:s,size:l,className:r})),ref:t,...c})});o.displayName="Button"},9820:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},Zb:function(){return l},aY:function(){return o},eW:function(){return c},ll:function(){return d}});var a=r(7437),s=r(2265),n=r(3448);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});l.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});d.displayName="CardTitle",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})}).displayName="CardDescription";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});o.displayName="CardContent";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});c.displayName="CardFooter"},4291:function(e,t,r){"use strict";r.d(t,{$N:function(){return p},Vq:function(){return d},cN:function(){return f},cZ:function(){return u},fK:function(){return m}});var a=r(7437),s=r(2265),n=r(9027),l=r(2489),i=r(3448);let d=n.fC;n.xz;let o=n.h_;n.x8;let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s})});c.displayName=n.aV.displayName;let u=s.forwardRef((e,t)=>{let{className:r,children:s,...d}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(c,{}),(0,a.jsxs)(n.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...d,children:[s,(0,a.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=n.VY.displayName;let m=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};m.displayName="DialogHeader";let f=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};f.displayName="DialogFooter";let p=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",r),...s})});p.displayName=n.Dx.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...s})}).displayName=n.dk.displayName},279:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var a=r(7437),s=r(2265),n=r(3448);let l=s.forwardRef((e,t)=>{let{className:r,type:s,...l}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...l})});l.displayName="Input"},5060:function(e,t,r){"use strict";r.d(t,{_:function(){return o}});var a=r(7437),s=r(2265),n=r(6394),l=r(7712),i=r(3448);let d=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.f,{ref:t,className:(0,i.cn)(d(),r),...s})});o.displayName=n.f.displayName},3804:function(e,t,r){"use strict";r.d(t,{RM:function(){return d},SC:function(){return o},iA:function(){return l},pj:function(){return u},ss:function(){return c},xD:function(){return i}});var a=r(7437),s=r(2265),n=r(3448);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",r),...s})})});l.displayName="Table";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",r),...s})});i.displayName="TableHeader";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...s})});d.displayName="TableBody",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});o.displayName="TableRow";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...s})});c.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...s})});u.displayName="TableCell",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",r),...s})}).displayName="TableCaption"},1245:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return i},a:function(){return d}});var a=r(7437),s=r(2265),n=r(4752);let l=(0,s.createContext)({userName:null,user:null,loading:!0}),i=e=>{let{children:t}=e,[r,i]=(0,s.useState)(null),[d,o]=(0,s.useState)(null),[c,u]=(0,s.useState)(!0),m=(0,n.v0)();return(0,s.useEffect)(()=>{let e=(0,n.Aj)(m,async e=>{o(e),i((null==e?void 0:e.displayName)||null),u(!1)});return()=>e()},[m]),(0,a.jsx)(l.Provider,{value:{userName:r,user:d,loading:c},children:t})},d=()=>(0,s.useContext)(l)},8965:function(e,t,r){"use strict";r.d(t,{$G:function(){return c},CL:function(){return d},Ez:function(){return l},Qe:function(){return i},_d:function(){return f},fA:function(){return m},jX:function(){return n},kT:function(){return o},wZ:function(){return p},zA:function(){return u}});var a=r(5978),s=r(8150);r(4752),r(4131);let n=async e=>{await (0,a.ET)((0,a.hJ)(s.db,"task"),e)},l=async e=>{let{startDate:t,endDate:r,userName:n}=e,l=(0,a.IO)((0,a.hJ)(s.db,"task"),(0,a.ar)("User","==",n),(0,a.ar)("DateTimeNum","<=",Number(r.replaceAll("-","")+"2359")),(0,a.ar)("DateTimeNum",">=",Number(t.replaceAll("-","")+"0000")),(0,a.Xo)("DateTimeNum","asc"));return(await (0,a.PL)(l)).docs.map(e=>{let t=e.data(),r=e.id;return{date:t.createDate,task:t.task,startTime:t.startTime,endTime:t.endTime,workingHour:t.workingHour,kensu:t.kensu,perHour:t.perHour,userName:t.User,docID:r}})},i=async e=>{let{startDate:t,endDate:r}=e,n=(0,a.IO)((0,a.hJ)(s.db,"task"),(0,a.ar)("DateTimeNum","<=",Number(r.replaceAll("-","")+"2359")),(0,a.ar)("DateTimeNum",">=",Number(t.replaceAll("-","")+"0000")),(0,a.Xo)("DateTimeNum","asc"));return(await (0,a.PL)(n)).docs.map(e=>{let t=e.data(),r=e.id;return{date:t.createDate,task:t.task,startTime:t.startTime,endTime:t.endTime,workingHour:t.workingHour,kensu:t.kensu,perHour:t.perHour,userName:t.User,docID:r}})},d=async e=>{let{startDate:t,endDate:r,userName:n,task:l}=e,i=(0,a.IO)((0,a.hJ)(s.db,"task"),(0,a.ar)("User","==",n),(0,a.ar)("DateTimeNum","<=",Number(r.replaceAll("-","")+"2359")),(0,a.ar)("DateTimeNum",">=",Number(t.replaceAll("-","")+"0000")),(0,a.ar)("task","==",l),(0,a.Xo)("DateTimeNum","asc"));return(await (0,a.PL)(i)).docs.map(e=>{let t=e.data(),r=e.id;return{date:t.createDate,task:t.task,startTime:t.startTime,endTime:t.endTime,workingHour:t.workingHour,kensu:t.kensu,perHour:t.perHour,userName:t.User,docID:r}})},o=async e=>{let{startDate:t,endDate:r,task:n}=e,l=(0,a.IO)((0,a.hJ)(s.db,"task"),(0,a.ar)("DateTimeNum","<=",Number(r.replaceAll("-","")+"2359")),(0,a.ar)("DateTimeNum",">=",Number(t.replaceAll("-","")+"0000")),(0,a.ar)("task","==",n),(0,a.Xo)("DateTimeNum","asc"));return(await (0,a.PL)(l)).docs.map(e=>{let t=e.data(),r=e.id;return{date:t.createDate,task:t.task,startTime:t.startTime,endTime:t.endTime,workingHour:t.workingHour,kensu:t.kensu,perHour:t.perHour,userName:t.User,docID:r}})},c=async e=>{let t=(0,a.JU)(s.db,"task",e.docID),r=new Date("2024-03-01 "+e.startTime+":00"),n=new Date("2024-03-01 "+e.endTime+":00").getTime()-r.getTime(),l=Number(String(e.date.replaceAll("-",""))+String(e.startTime.replaceAll(":",""))),i=0===e.kensu?0:Math.floor(e.kensu/(n/36e5)*100)/100,d={createDate:e.date,startTime:e.startTime,endTime:e.endTime,kensu:e.kensu,task:e.task,workingHour:Math.floor(n/36e5*1e3)/1e3,perHour:i,dateTimeNum:l},o=!1;try{await (0,a.r7)(t,d)}catch(e){o=!0}finally{return{newItem:d,error:o}}},u=async()=>{let e=(0,a.IO)((0,a.hJ)(s.db,"loginAccount"));return(await (0,a.PL)(e)).docs.map(e=>{let t=e.data();return{id:t.id,accountname:t.accountname}})},m=async e=>{let t={chk:e.chk,color:e.color,id:e.id,orderNum:e.orderNum,taskName:e.taskName};await (0,a.ET)((0,a.hJ)(s.db,"taskManager"),t)},f=async e=>{let t=(0,a.JU)(s.db,"taskManager",e.docID),r={chk:e.chk,color:e.color,id:e.id,orderNum:e.orderNum,taskName:e.taskName},n=!1;try{await (0,a.r7)(t,r)}catch(e){n=!0}finally{return{editTaskManagerItem:r,error:n}}},p=async()=>{let e=(0,a.IO)((0,a.hJ)(s.db,"taskManager"),(0,a.Xo)("orderNum","asc"));return(await (0,a.PL)(e)).docs.map(e=>{let t=e.data(),r=e.id;return{id:t.id,chk:t.chk,color:t.color,orderNum:t.orderNum,taskName:t.taskName,docID:r}})}},3448:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var a=r(1994),s=r(3335);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.m6)((0,a.W)(t))}},8150:function(e,t,r){"use strict";r.d(t,{I:function(){return d},V:function(){return o},db:function(){return i}});var a=r(738),s=r(5978),n=r(4752);let l=(0,a.C6)().length?(0,a.Mq)():(0,a.ZF)({apiKey:"AIzaSyDk4bk42tjlPdjPvHeRMH6vy1khl4oa4SY",authDomain:"bissiness-report-app.firebaseapp.com",projectId:"bissiness-report-app",storageBucket:"bissiness-report-app.appspot.com",messagingSenderId:"463427289714",appId:"1:463427289714:web:27a883fc74edfffa43b8eb"}),i=(0,s.ad)(l),d=(0,n.v0)(l),o=new n.hJ}},function(e){e.O(0,[387,358,146,82,929,8,971,117,744],function(){return e(e.s=8092)}),_N_E=e.O()}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[781],{4291:function(e,t,a){a.d(t,{$N:function(){return h},Vq:function(){return d},cN:function(){return x},cZ:function(){return m},fK:function(){return u}});var s=a(7437),l=a(2265),r=a(9027),n=a(2489),i=a(3448);let d=r.fC;r.xz;let c=r.h_;r.x8;let o=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});o.displayName=r.aV.displayName;let m=l.forwardRef((e,t)=>{let{className:a,children:l,...d}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(o,{}),(0,s.jsxs)(r.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[l,(0,s.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(n.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=r.VY.displayName;let u=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};u.displayName="DialogHeader";let x=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};x.displayName="DialogFooter";let h=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...l})});h.displayName=r.Dx.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...l})}).displayName=r.dk.displayName},5060:function(e,t,a){a.d(t,{_:function(){return c}});var s=a(7437),l=a(2265),r=a(6394),n=a(7712),i=a(3448);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.f,{ref:t,className:(0,i.cn)(d(),a),...l})});c.displayName=r.f.displayName},3804:function(e,t,a){a.d(t,{RM:function(){return d},SC:function(){return c},iA:function(){return n},pj:function(){return m},ss:function(){return o},xD:function(){return i}});var s=a(7437),l=a(2265),r=a(3448);let n=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:t,className:(0,r.cn)("w-full caption-bottom text-sm",a),...l})})});n.displayName="Table";let i=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("thead",{ref:t,className:(0,r.cn)("[&_tr]:border-b",a),...l})});i.displayName="TableHeader";let d=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("tbody",{ref:t,className:(0,r.cn)("[&_tr:last-child]:border-0",a),...l})});d.displayName="TableBody",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("tfoot",{ref:t,className:(0,r.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...l})}).displayName="TableFooter";let c=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("tr",{ref:t,className:(0,r.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...l})});c.displayName="TableRow";let o=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("th",{ref:t,className:(0,r.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...l})});o.displayName="TableHead";let m=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("td",{ref:t,className:(0,r.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...l})});m.displayName="TableCell",l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)("caption",{ref:t,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",a),...l})}).displayName="TableCaption"},9511:function(e,t,a){var s=a(7437),l=a(2381),r=a(279),n=a(5060),i=a(5291),d=a(4291),c=a(8965);t.Z=e=>{let{editingItem:t,setIsEditDialogOpen:a,setAllItems:o,setEditingItem:m,taskItems:u}=e,x=async()=>{let{newItem:e,error:s}=await (0,c.$G)(t);if(s&&!e){window.alert("エラーが発生しました。");return}let l={date:e.createDate,task:e.task,startTime:e.startTime,endTime:e.endTime,workingHour:e.workingHour,kensu:e.kensu,perHour:e.perHour,userName:t.userName,docID:t.docID};a(!1),o(e=>e.map(e=>e.docID===l.docID?{...l}:{...e}))};return(0,s.jsxs)(d.cZ,{className:"bg-slate-50",children:[(0,s.jsx)(d.fK,{children:(0,s.jsx)(d.$N,{children:"項目の編集"})}),t&&(0,s.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(n._,{htmlFor:"edit-date",className:"text-right",children:"日付"}),(0,s.jsx)(r.I,{id:"edit-date",type:"date",value:t.date,onChange:e=>m({...t,date:e.target.value}),className:"col-span-3"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(n._,{htmlFor:"edit-task",className:"text-right",children:"業務項目"}),(0,s.jsxs)(i.Ph,{value:t.task,onValueChange:e=>m({...t,task:e}),children:[(0,s.jsx)(i.i4,{id:"edit-task",className:"col-span-3",children:(0,s.jsx)(i.ki,{placeholder:"業務項目を選択"})}),(0,s.jsx)(i.Bw,{children:null==u?void 0:u.map((e,t)=>(0,s.jsx)(i.Ql,{value:String(e.id),style:{backgroundColor:e.color},children:e.taskName},t))})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(n._,{htmlFor:"edit-start-time",className:"text-right",children:"開始時間"}),(0,s.jsx)(r.I,{id:"edit-start-time",type:"time",value:t.startTime,onChange:e=>m({...t,startTime:e.target.value}),className:"col-span-3"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(n._,{htmlFor:"edit-end-time",className:"text-right",children:"終了時間"}),(0,s.jsx)(r.I,{id:"edit-end-time",type:"time",value:t.endTime,onChange:e=>m({...t,endTime:e.target.value}),className:"col-span-3"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,s.jsx)(n._,{htmlFor:"edit-count",className:"text-right",children:"件数"}),(0,s.jsx)(r.I,{id:"edit-count",type:"number",value:t.kensu,onChange:e=>m({...t,kensu:parseInt(e.target.value,10)}),className:"col-span-3"})]})]}),(0,s.jsx)(d.cN,{children:(0,s.jsx)(l.z,{className:"w-full bg-blue-600 text-white hover:bg-blue-700",type:"submit",onClick:x,children:"保存"})})]})}},9516:function(e,t,a){a.d(t,{Z:function(){return m}});var s=a(7437),l=a(2381),r=a(6540),n=a(9205);let i=(0,n.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),d=(0,n.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var c=a(9820),o=a(9376),m=e=>{let{isLoading:t,totalPages:a,currentPage:n,setCurrentPage:m}=e,u=(0,o.useRouter)();return(0,s.jsxs)(c.eW,{className:"flex justify-between",children:[(0,s.jsxs)("div",{className:t?"":"invisible",children:[(0,s.jsx)(r.Z,{className:"w-4 h-4 mr-2 animate-spin"}),(0,s.jsx)("strong",{className:"font-bold hidden sm:inline",children:"Loading..."}),(0,s.jsx)("strong",{className:"font-bold invisible sm:hidden",children:".neverDisp."})]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>m(e=>Math.max(e-1,1)),disabled:1===n,children:[(0,s.jsx)(i,{className:"h-4 w-4"}),(0,s.jsx)("strong",{className:"hidden sm:inline",children:"前へ"})]}),(0,s.jsxs)("span",{className:"text-sm",children:[n," / ",a]}),(0,s.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>m(e=>Math.min(e+1,a)),disabled:n===a,children:[(0,s.jsx)("strong",{className:"hidden sm:inline",children:"次へ"}),(0,s.jsx)(d,{className:"h-4 w-4"})]})]}):(0,s.jsx)(s.Fragment,{})}),(0,s.jsx)("div",{children:(0,s.jsx)(l.z,{className:"hover:bg-gray-200",variant:"outline",onClick:()=>u.back(),children:"戻る"})})]})}},699:function(e,t,a){a.d(t,{Z:function(){return u}});var s=a(7437),l=a(2265),r=a(2381),n=a(9820),i=a(279),d=a(5060),c=a(5291),o=a(8965);let m=e=>{let{data:t,taskItems:a,filename:s}=e;if(!t||!t.length)return;let l=new Blob(["\uFEFF"+[["日付","業務項目","開始時間","終了時間","業務時間","件数","時速","従業員名"],...t.map(e=>{let t=null==a?void 0:a.filter(t=>String(t.id)===e.task),s=1===t.length&&t[0].taskName?t[0].taskName:"";return[e.date,s,e.startTime,e.endTime,e.workingHour.toFixed(3),e.kensu,e.perHour,e.userName]})].map(e=>e.join(",")).join("\n")],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a"),n=URL.createObjectURL(l);r.href=n,r.download=s,r.click(),URL.revokeObjectURL(n)};var u=e=>{let{setIsLoading:t,setAllItems:a,taskItems:u,allItems:x,setCurrentPage:h,userName:g}=e,[j,f]=(0,l.useState)(new Date().toLocaleDateString("sv-SE")),[p,N]=(0,l.useState)(new Date().toLocaleDateString("sv-SE")),[b,v]=(0,l.useState)(g),[w,k]=(0,l.useState)("ALL"),y=async()=>{let e=new Date(j),s=new Date(p);if(isNaN(e.getDate())||isNaN(s.getDate())){window.alert("開始日、終了日を確認してください");return}t(!0),"ALL"===b&&"ALL"===w?a(await (0,o.Qe)({startDate:j,endDate:p})):"ALL"===b&&"ALL"!==w?a(await (0,o.kT)({startDate:j,endDate:p,task:w})):"ALL"===w?a(await (0,o.Ez)({startDate:j,endDate:p,userName:b})):a(await (0,o.CL)({startDate:j,endDate:p,userName:b,task:w})),t(!1),h(1)},D=()=>{let e=e=>(e<10?"0":"")+e;if(!u){window.alert("業務項目名が正しく読み込めていません。");return}m({data:x,taskItems:u,filename:"業務報告_"+(()=>{let t=new Date;return""+t.getFullYear()+e(t.getMonth()+1)+e(t.getDate())+e(t.getHours())+e(t.getMinutes())})()})};return(0,s.jsxs)(n.aY,{children:[(0,s.jsxs)("div",{className:"grid gap-4 mb-4 sm:grid-cols-3 lg:grid-cols-4",children:[(0,s.jsxs)("div",{className:"md:col-span-1 lg:col-span-1",children:[(0,s.jsxs)(d._,{htmlFor:"startDate",children:["開始日",(0,s.jsx)("strong",{className:"ml-3 text-red-500 text-xs",children:"※必須"})]}),(0,s.jsx)(i.I,{type:"date",id:"startDate",value:j,onChange:e=>f(e.target.value)})]}),(0,s.jsxs)("div",{className:"md:col-span-1 lg:col-span-1",children:[(0,s.jsxs)(d._,{htmlFor:"endDate",children:["終了日",(0,s.jsx)("strong",{className:"ml-3 text-red-500 text-xs",children:"※必須"})]}),(0,s.jsx)(i.I,{type:"date",id:"endDate",value:p,onChange:e=>N(e.target.value)})]}),(0,s.jsxs)("div",{className:"md:col-span-1 lg:col-span-1",children:[(0,s.jsx)(d._,{htmlFor:"employee",children:"従業員名"}),(0,s.jsxs)(c.Ph,{value:b,onValueChange:v,children:[(0,s.jsx)(c.i4,{id:"employee",children:(0,s.jsx)(c.ki,{placeholder:"従業員を選択"})}),(0,s.jsx)(c.Bw,{className:"bg-gray-100",children:(0,s.jsx)(c.Ql,{value:g,children:g})})]})]}),(0,s.jsxs)("div",{className:"sm:col-span-3 lg:col-span-1",children:[(0,s.jsx)(d._,{htmlFor:"tasks",children:"業務項目"}),(0,s.jsxs)(c.Ph,{value:w,onValueChange:k,children:[(0,s.jsx)(c.i4,{id:"task",children:(0,s.jsx)(c.ki,{placeholder:"業務項目を選択"})}),(0,s.jsxs)(c.Bw,{className:"bg-gray-100",children:[(0,s.jsx)(c.Ql,{value:"ALL",children:"ALL"}),u.map(e=>(0,s.jsx)(c.Ql,{value:String(e.id),style:{backgroundColor:e.color},children:e.taskName},e.id))]})]})]})]}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-2 p-2",children:[(0,s.jsx)(r.z,{className:"w-full border border-black hover:bg-gray-100",onClick:()=>y(),children:"検索"}),(0,s.jsx)(r.z,{variant:"outline",className:"w-full border bg-yellow-200 hover:bg-yellow-300",onClick:()=>D(),children:"CSV出力"})]})]})}},7106:function(e,t,a){var s=a(7437),l=a(2381),r=a(9820),n=a(3804);t.Z=e=>{let{currentItems:t,taskItems:a,setEditingItem:i,setIsEditDialogOpen:d,manager:c}=e,o=e=>{let a=t.filter(t=>t.docID===e)[0];a&&(i(a),d(!0))};return(0,s.jsx)(r.aY,{children:(0,s.jsxs)(n.iA,{className:"border",children:[(0,s.jsx)(n.xD,{className:"bg-gradient-to-b from-blue-800 to-blue-700 text-white",children:(0,s.jsxs)(n.SC,{children:[(0,s.jsx)(n.ss,{children:"日付"}),(0,s.jsx)(n.ss,{children:"業務項目"}),(0,s.jsx)(n.ss,{children:"開始時間"}),(0,s.jsx)(n.ss,{children:"終了時間"}),(0,s.jsx)(n.ss,{children:"業務時間"}),(0,s.jsx)(n.ss,{children:"件数"}),(0,s.jsx)(n.ss,{children:"時速"}),(0,s.jsx)(n.ss,{children:"従業員名"}),(0,s.jsx)(n.ss,{})]})}),(0,s.jsx)(n.RM,{className:"bg-zinc-50",children:t.map((e,t)=>{let r=null==a?void 0:a.filter(t=>String(t.id)===e.task)[0].taskName,i=!c&&new Date(e.date).toDateString()!==new Date().toDateString();return(0,s.jsxs)(n.SC,{className:"hover:bg-gray-200",children:[(0,s.jsx)(n.pj,{children:e.date}),(0,s.jsx)(n.pj,{children:r}),(0,s.jsx)(n.pj,{children:e.startTime}),(0,s.jsx)(n.pj,{children:e.endTime}),(0,s.jsx)(n.pj,{children:e.workingHour.toFixed(3)}),(0,s.jsx)(n.pj,{children:e.kensu}),(0,s.jsx)(n.pj,{children:e.perHour}),(0,s.jsx)(n.pj,{children:e.userName}),(0,s.jsx)(n.pj,{children:(0,s.jsx)(l.z,{className:i?"invisible":"hover:bg-gray-200",variant:"outline",size:"sm",onClick:()=>!i&&o(e.docID),children:"編集"})})]},t)})})]})})}}}]);